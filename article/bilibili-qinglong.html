<!DOCTYPE html><html lang="zh"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5"><meta name="theme-color" content="#1d1f21"><link rel="manifest" href="/manifest.json"><script src="/sw-register.js"></script><meta name="description" content="继上一篇分享了基础的青龙面板搭建以及京东京豆挂机后，今日我又看到一个有趣的挂机项目bilitools。在对项目的原文档进行一定研究后，我又准备出一篇相应的配置教程。结合我自己的理解，仅供参考！"><meta property="og:type" content="article"><meta property="og:title" content="青龙面板篇之哔哩哔哩挂机"><meta property="og:url" content="https://vccv.cc/article/bilibili-qinglong.html"><meta property="og:site_name" content="月青悠"><meta property="og:description" content="继上一篇分享了基础的青龙面板搭建以及京东京豆挂机后，今日我又看到一个有趣的挂机项目bilitools。在对项目的原文档进行一定研究后，我又准备出一篇相应的配置教程。结合我自己的理解，仅供参考！"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://vccv.cc/article/bilibili-qinglong/image-20220907120359433.png"><meta property="og:image" content="https://vccv.cc/article/bilibili-qinglong/image-20220907121154016.png"><meta property="og:image" content="https://vccv.cc/article/bilibili-qinglong/image-20220907120800606.png"><meta property="og:image" content="https://vccv.cc/article/bilibili-qinglong/ql_update.png"><meta property="og:image" content="https://vccv.cc/article/bilibili-qinglong/br_ys.29d7da3d.png"><meta property="og:image" content="https://vccv.cc/article/bilibili-qinglong/chrome-net-bnav.png"><meta property="og:image" content="https://vccv.cc/article/bilibili-qinglong/firefox-network.png"><meta property="og:image" content="https://vccv.cc/article/bilibili-qinglong/firefox-net-bnav.png"><meta property="og:image" content="https://vccv.cc/article/bilibili-qinglong/image-20220907133801593.png"><meta property="og:image" content="https://vccv.cc/article/bilibili-qinglong/image-20220907133920012.png"><meta property="og:image" content="https://vccv.cc/article/bilibili-qinglong/image-20220907134421036.png"><meta property="article:published_time" content="2022-09-07T03:45:10.000Z"><meta property="article:modified_time" content="2023-10-13T06:45:58.000Z"><meta property="article:author" content="Yuesir"><meta property="article:tag" content="青龙面板"><meta property="article:tag" content="服务器"><meta property="article:tag" content="哔哩哔哩"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://vccv.cc/article/bilibili-qinglong/image-20220907120359433.png"><link rel="shortcut icon" href="/images/favicon.ico"><link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><title>青龙面板篇之哔哩哔哩挂机｜月青悠</title><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/style-dark.css"><script src="/js/switch.js"></script><link rel="stylesheet" href="/css/fancybox.css"><meta name="generator" content="Hexo 5.4.2"><link rel="alternate" href="/atom.xml" title="月青悠" type="application/atom+xml">
</head><body class="max-width mx-auto px3 ltr"><div id="header-post"><a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">首页</a></li><li><a href="/tags">标签</a></li><li><a href="/search">搜索</a></li><li><a href="/tools">工具</a></li><li><a href="/about">关于</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" aria-label="上一篇" href="/article/conda-r-jupyter.html"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle()' onmouseout='$("#i-prev").toggle()'></i></a></li><li><a class="icon" aria-label="下一篇" href="/article/ios-app.html"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle()' onmouseout='$("#i-next").toggle()'></i></a></li><li><a class="icon" aria-label="返回顶部" href="#" onclick='$("html, body").animate({scrollTop:0},"fast")'><i class="fas fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle()' onmouseout='$("#i-top").toggle()'></i></a></li><li><a class="icon" aria-label="切换主题"><i class="fas fa-lightbulb" aria-hidden="true" onmouseover='$("#i-switch").toggle()' onmouseout='$("#i-switch").toggle()' onclick="switchNightMode()"></i></a></li><li><a class="icon" aria-label="回到首页" href="/"><i class="fas fa-home" aria-hidden="true" onmouseover='$("#i-home").toggle()' onmouseout='$("#i-home").toggle()'></i></a></li></ul><span id="i-prev" class="info" style="display:none">上一篇</span> <span id="i-next" class="info" style="display:none">下一篇</span> <span id="i-top" class="info" style="display:none">返回顶部</span> <span id="i-switch" class="info" style="display:none">切换主题</span> <span id="i-home" class="info" style="display:none">回到首页</span></span><br><div id="toc"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#2023-10-1-%E6%9B%B4%E6%96%B0"><span class="toc-number">1.</span> <span class="toc-text">2023.10.1 更新</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">2.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%86%E5%A4%87"><span class="toc-number">3.</span> <span class="toc-text">准备</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%99%E7%A8%8B"><span class="toc-number">4.</span> <span class="toc-text">教程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96"><span class="toc-number">4.1.</span> <span class="toc-text">安装依赖</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8B%89%E5%8F%96%E8%84%9A%E6%9C%AC"><span class="toc-number">4.2.</span> <span class="toc-text">拉取脚本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0npm%E5%8C%85"><span class="toc-number">4.3.</span> <span class="toc-text">更新npm包</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96cookie"><span class="toc-number">5.</span> <span class="toc-text">获取cookie</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#PC%E7%AB%AF%E6%B5%8F%E8%A7%88%E5%99%A8%E9%9A%90%E7%A7%81%E6%A8%A1%E5%BC%8F%EF%BC%88%E6%8E%A8%E8%8D%90%EF%BC%89"><span class="toc-number">5.1.</span> <span class="toc-text">PC端浏览器隐私模式（推荐）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Chrome"><span class="toc-number">5.2.</span> <span class="toc-text">Chrome</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Firefox"><span class="toc-number">5.3.</span> <span class="toc-text">Firefox</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%8B%E6%9C%BA%E7%AB%AF"><span class="toc-number">5.4.</span> <span class="toc-text">手机端</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%EF%BC%88%E9%87%8D%E7%82%B9%EF%BC%89"><span class="toc-number">6.</span> <span class="toc-text">配置文件（重点）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%87%92%E4%BA%BA%E7%89%88%E5%8D%95%E4%BA%BA%E8%87%AA%E7%94%A8%EF%BC%88%E8%AF%B7%E6%8C%89%E9%9C%80%E4%BF%AE%E6%94%B9%EF%BC%89"><span class="toc-number">6.1.</span> <span class="toc-text">懒人版单人自用（请按需修改）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">6.2.</span> <span class="toc-text">添加环境变量</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%8B%E5%8A%A8%E8%BF%90%E8%A1%8C"><span class="toc-number">7.</span> <span class="toc-text">手动运行</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%84%9F%E8%B0%A2"><span class="toc-number">8.</span> <span class="toc-text">感谢</span></a></li></ol></div></span></div><div class="content index py4"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><a href="javascript:void(0);" onclick="switchNightMode()"><h1 class="posttitle" itemprop="name headline">青龙面板篇之哔哩哔哩挂机</h1></a><div class="meta"><div class="postdate">Posted: <time datetime="2022-09-07T03:45:10.000Z" itemprop="datePublished">2022-09-07</time> (Updated: <time datetime="2023-10-13T06:45:58.000Z" itemprop="dateModified">2023-10-13</time>)</div><div class="article-category"><i class="fas fa-archive"></i> <a class="category-link" href="/categories/tips/">玩机技巧</a> › <a class="category-link" href="/categories/tips/droplet/">服务器端</a> › <a class="category-link" href="/categories/tips/droplet/qinglong/">青龙面板</a></div><div class="article-tag"><i class="fas fa-tag"></i> <a class="tag-link-link" href="/tags/bilibili/" rel="tag">哔哩哔哩</a>, <a class="tag-link-link" href="/tags/droplet/" rel="tag">服务器</a>, <a class="tag-link-link" href="/tags/qinglong/" rel="tag">青龙面板</a></div></div></header><div class="content" itemprop="articleBody"><h2 id="2023-10-1-更新"><a href="#2023-10-1-更新" class="headerlink" title="2023.10.1 更新"></a>2023.10.1 更新</h2><p>本文内容可能不再适用，请酌情对照参考 <a target="_blank" rel="noopener" href="https://github.com/whyour/qinglong">官方仓库</a> 安装教程。</p><blockquote><p>温馨提示：</p><p>截止目前（2023.10.1），新用户可以选择安装<em>Debian</em>版本<code>docker pull whyour/qinglong:debian</code></p><p>优点是兼容更多的python依赖：例如 <a target="_blank" rel="noopener" href="https://github.com/sml2h3/ddddocr">ddddocr</a> 只能在Debian版本安装，而不能在默认版本中安装。</p></blockquote><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>继上一篇分享了基础的<a href="https://vccv.cc/article/qinglong-jd.html">青龙面板搭建以及京东京豆挂机</a>后，今日我又看到一个有趣的挂机项目BiliTools。</p><p>在对项目的<a target="_blank" rel="noopener" href="https://btdocs.vercel.app/">原文档</a>进行一定研究后，我又准备水一篇相应的配置教程。</p><p>结合我自己的理解，仅供参考！！！</p><blockquote><p>小提示：</p><p>由于vercel服务的主域名vercel.app近日被墙，查阅原文档需自备科学上网条件。</p></blockquote><h2 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h2><p>一台运行的青龙服务器（本地或者云服务器都可）。</p><p>搭建教程：<a href="https://vccv.cc/article/qinglong-jd.html">点击查看</a>。</p><blockquote><p>该项目可以运行在多种环境下，包括但不限于本地运行、青龙面板、Docker、云函数等等。</p><p>本篇只针对青龙面板进行部署。</p></blockquote><h2 id="教程"><a href="#教程" class="headerlink" title="教程"></a>教程</h2><h3 id="安装依赖"><a href="#安装依赖" class="headerlink" title="安装依赖"></a>安装依赖</h3><p>在 <strong>青龙面板-&gt;依赖管理-&gt;NodeJs-&gt;新建依赖</strong> ，输入名称 <code>@catlair/bilitools</code> ，点击确定安装即可。</p><p><a data-fancybox="gallery" data-src="bilibili-qinglong/image-20220907120359433.webp" data-caption="安装依赖"><picture><source srcset="bilibili-qinglong/image-20220907120359433.webp" type="image/webp"><img src="bilibili-qinglong/image-20220907120359433.png" alt="安装依赖"></picture></a></p><h3 id="拉取脚本"><a href="#拉取脚本" class="headerlink" title="拉取脚本"></a>拉取脚本</h3><p>在 <strong>青龙面板-&gt;定时任务-&gt;新建任务</strong> ，输入名称（随意）、命令（<code>ql raw https://gitee.com/Kudouran/BiliTools/raw/main/tools/bilitools_npm.js</code>）、定时规则（0 0 0 * * *），点击确定后手动运行一次即可。</p><blockquote><p>关于定时规则：</p><p>这里使用的是Java类型的cron表达式，**0 0 0 * * *** 表示每日的凌晨定时运行一次。</p><p>如果想要自行修改，可以使用<a target="_blank" rel="noopener" href="https://tool.lu/crontab/">在线工具</a>。</p><p><a data-fancybox="gallery" data-src="bilibili-qinglong/image-20220907121154016.webp" data-caption="cron表达式"><picture><source srcset="bilibili-qinglong/image-20220907121154016.webp" type="image/webp"><img src="bilibili-qinglong/image-20220907121154016.png" alt="cron表达式"></picture></a></p></blockquote><p><a data-fancybox="gallery" data-src="bilibili-qinglong/image-20220907120800606.webp" data-caption="拉取脚本"><picture><source srcset="bilibili-qinglong/image-20220907120800606.webp" type="image/webp"><img src="bilibili-qinglong/image-20220907120800606.png" alt="拉取脚本"></picture></a></p><h3 id="更新npm包"><a href="#更新npm包" class="headerlink" title="更新npm包"></a>更新npm包</h3><p>自动更新如下所示：</p><p><a data-fancybox="gallery" data-src="bilibili-qinglong/ql_update.webp" data-caption="更新npm包"><picture><source srcset="bilibili-qinglong/ql_update.webp" type="image/webp"><img src="bilibili-qinglong/ql_update.png" alt="更新npm包"></picture></a></p><div class="highlight-wrap" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm remove -g @catlair/bilitools &amp;&amp; pnpm add -g @catlair/bilitools</span><br></pre></td></tr></table></figure></div><blockquote><p>不输入 <code>pnpm remove -g @catlair/bilitools</code> 的话前一个版本的依赖包就会一直保留在磁盘中。</p></blockquote><h2 id="获取cookie"><a href="#获取cookie" class="headerlink" title="获取cookie"></a>获取cookie</h2><h3 id="PC端浏览器隐私模式（推荐）"><a href="#PC端浏览器隐私模式（推荐）" class="headerlink" title="PC端浏览器隐私模式（推荐）"></a>PC端浏览器隐私模式（推荐）</h3><p>以 PC 端浏览器举例（推荐使用 Firefox/Chrome/Chromium Edge）</p><p>最终 Cookie 是这样的（为了演示方便换了行，实际只有一行）:</p><div class="highlight-wrap" data-rel="Code"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">_uuid=D2282D0F-257B-845A-BDF5-C770ED288F4001440infoc; buvid3=BF17608E-FB87-4F49-A922-56FD2E284D6F18534infoc;</span><br><span class="line">fingerprint=5502cd4fe9637738de04bd9c3d1bdbc5;</span><br><span class="line">buvid_fp=BF17608E-FB87-4F49-A922-56FD2E284D6F18534infoc;</span><br><span class="line">SESSDATA=21607773%2C1631089673%2C71a42%2A31; bili_jct=dd92c55a6d67041ce2f3fb1650889ea8;</span><br><span class="line">DedeUserID=521268093; DedeUserID__ckMd5=47d541f04b605da9;</span><br><span class="line">sid=ivie73r8; fingerprint3=792b32adfecbe31a4aca53ab7be1ad76;</span><br><span class="line">fingerprint_s=bb6736758e7344a295c2ed6070cc642e;</span><br><span class="line">buvid_fp_plain=BF17608E-FB87-4F49-A922-56FD2E284D6F18534infoc;</span><br><span class="line">CURRENT_FNVAL=80; blackside_state=1; rpdid=|(kmJYYJ)lkR0J&#x27;uYu)llkJYJ; _dfcaptcha=a46d7562a42065d43a88c053e283e876;</span><br><span class="line">LIVE_BUVID=AUTO8016188357987702; bsource=search_baidu; PVID=2</span><br></pre></td></tr></table></figure></div><p><strong>为了避免 cookie 被刷新失效</strong>（例如你时常使用浏览器访问 b 站，那就不要直接复制它的 cookie，因为目前存在 cookie 自动刷新的情况，你保留的就会失效了）。</p><p>你应该使用<strong>隐私窗口</strong>重新登录b站，并获取新的 cookie。</p><p>隐私窗口打开方式（举例）：</p><p><a data-fancybox="gallery" data-src="bilibili-qinglong/br_ys.29d7da3d.webp" data-caption="隐私窗口"><picture><source srcset="bilibili-qinglong/br_ys.29d7da3d.webp" type="image/webp"><img src="bilibili-qinglong/br_ys.29d7da3d.png" alt="隐私窗口"></picture></a></p><p>获取成功后应该<strong>直接关闭隐私窗口</strong>，切记不要退出你的b站账号，那样 cookie 会立马失效。</p><h3 id="Chrome"><a href="#Chrome" class="headerlink" title="Chrome"></a>Chrome</h3><p>打开浏览器隐私窗口，任意方式进入 b 站（搜索，收藏夹，地址访问等），登录账号。<br>按 F12 （或者右键 –&gt; 检查）打开开发者工具，切换到 <code>网络</code> ( <code>network</code> )<br>点击重新载入（或者按 F5，Ctrl + R 等）刷新页面，点击某一个请求（通常是第一个为 nav ）。</p><p><a data-fancybox="gallery" data-src="bilibili-qinglong/chrome-net-bnav.webp" data-caption="chrome获取cookie"><picture><source srcset="bilibili-qinglong/chrome-net-bnav.webp" type="image/webp"><img src="bilibili-qinglong/chrome-net-bnav.png" alt="chrome获取cookie"></picture></a></p><blockquote><p>注意：</p><p>在使用 Chromium 类的浏览器时复制时一定要选中<strong>复制</strong>，而不是使用自带的<strong>复制值</strong>功能。</p></blockquote><h3 id="Firefox"><a href="#Firefox" class="headerlink" title="Firefox"></a>Firefox</h3><p>打开浏览器隐私窗口，任意方式进入 b 站（搜索，收藏夹，地址访问等），登录账号。<br>按 F12 （或者右键 –&gt; 检查）打开开发者工具，切换到<code>网络</code> ( <code>network</code> )<br>点击重新载入（或者按 F5，Ctrl + R 等）刷新页面。</p><p><a data-fancybox="gallery" data-src="bilibili-qinglong/firefox-network.webp" data-caption="firefox获取cookie"><picture><source srcset="bilibili-qinglong/firefox-network.webp" type="image/webp"><img src="bilibili-qinglong/firefox-network.png" alt="firefox获取cookie"></picture></a></p><p><a data-fancybox="gallery" data-src="bilibili-qinglong/firefox-net-bnav.webp" data-caption="firefox获取cookie"><picture><source srcset="bilibili-qinglong/firefox-net-bnav.webp" type="image/webp"><img src="bilibili-qinglong/firefox-net-bnav.png" alt="firefox获取cookie"></picture></a></p><h3 id="手机端"><a href="#手机端" class="headerlink" title="手机端"></a>手机端</h3><p>不推荐，有缺陷，暂时不提。</p><h2 id="配置文件（重点）"><a href="#配置文件（重点）" class="headerlink" title="配置文件（重点）"></a>配置文件（重点）</h2><p>配置文件的编写是本文的重点，也是项目的重点。</p><p>正确配置该文件才能正常使用，需要各位多花时间认真阅读。</p><h3 id="懒人版单人自用（请按需修改）"><a href="#懒人版单人自用（请按需修改）" class="headerlink" title="懒人版单人自用（请按需修改）"></a>懒人版单人自用（请按需修改）</h3><div class="highlight-wrap" data-rel="Json"><figure class="iseeu highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">[</span></span><br><span class="line">  <span class="comment">// 注意 // 开头的是注释，没有实际意义</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="comment">// 浏览器用户代理 打开下面网址在线获取：</span></span><br><span class="line">    <span class="comment">// http://service.spiritsoft.cn/ua.html</span></span><br><span class="line">    userAgent<span class="punctuation">:</span> &#x27;&#x27;<span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// 通用 api 延迟时间（s）</span></span><br><span class="line">    apiDelay<span class="punctuation">:</span> <span class="punctuation">[</span><span class="number">2</span><span class="punctuation">,</span> <span class="number">6</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// b 站 cookie</span></span><br><span class="line">    <span class="comment">// 获取教程在上面</span></span><br><span class="line">    cookie<span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// 配置运行的功能</span></span><br><span class="line">    function<span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="comment">// 瓜子兑换硬币</span></span><br><span class="line">      silver2Coin<span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 投币</span></span><br><span class="line">      addCoins<span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 直播签到</span></span><br><span class="line">      liveSignTask<span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 分享和观看</span></span><br><span class="line">      shareAndWatch<span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 漫画任务</span></span><br><span class="line">      mangaTask<span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 应援团签到</span></span><br><span class="line">      supGroupSign<span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 使用 b 币券</span></span><br><span class="line">      useCouponBp<span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 获取 vip 权益</span></span><br><span class="line">      getVipPrivilege<span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 直播赠送礼物</span></span><br><span class="line">      giveGift<span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 赛事竞猜</span></span><br><span class="line">      matchGame<span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 取消关注</span></span><br><span class="line">      batchUnfollow<span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 直播天选时刻</span></span><br><span class="line">      liveLottery<span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 直播天选红包</span></span><br><span class="line">      liveRedPack<span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 粉丝牌等级</span></span><br><span class="line">      liveIntimacy<span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 大会员大积分</span></span><br><span class="line">      bigPoint<span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 风纪委员</span></span><br><span class="line">      judgement<span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 转盘抽奖</span></span><br><span class="line">      activityLottery<span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// 直播天选时刻</span></span><br><span class="line">    redPack<span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="comment">// 直播间来源方式 1 活动（活动链接可能更新不及时），2 扫描。其它值 所有方式依次尝试。</span></span><br><span class="line">      source<span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 活动链接</span></span><br><span class="line">      uri<span class="punctuation">:</span> &#x27;https<span class="punctuation">:</span><span class="comment">//api.live.bilibili.com/xlive/fuxi-interface/AugRedPacket2022Controller/redPocketPlaying&#x27;,</span></span><br><span class="line">      <span class="comment">// 【仅使用活动时有效】 每轮抢红包的间隔时间（秒）</span></span><br><span class="line">      intervalActive<span class="punctuation">:</span> <span class="number">60</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 中场休息时间，当每参加了几个直播间的时候，休息一下 [参加个数，休息时间（分，小于1为直接结束）]</span></span><br><span class="line">      restTime<span class="punctuation">:</span> <span class="punctuation">[</span><span class="number">-1</span><span class="punctuation">,</span> <span class="number">-1</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 疑似触发风控时休眠时间，[连续出现次数，休眠时间（分，小于1为直接结束）]</span></span><br><span class="line">      riskTime<span class="punctuation">:</span> <span class="punctuation">[</span><span class="number">-1</span><span class="punctuation">,</span> <span class="number">-1</span><span class="punctuation">]</span><span class="punctuation">,</span> <span class="comment">// 与 riskNum 不同，该参数会与 restTime 互相影响重置次数</span></span><br><span class="line">      <span class="comment">// 同时参与的直播间数量</span></span><br><span class="line">      linkRoomNum<span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 参与直播时发送的弹幕数量（与内置数量比，min(10，剩余时间/5，配置)）</span></span><br><span class="line">      <span class="comment">// [固定值]，[最少,最多]</span></span><br><span class="line">      dmNum<span class="punctuation">:</span> <span class="punctuation">[</span><span class="number">10</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 是否在等待时处理关注用户（读取消息，移动）</span></span><br><span class="line">      moveUpInWait<span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">/** 天选时刻关注 UP 移动到分组 */</span></span><br><span class="line">      moveTag<span class="punctuation">:</span> &#x27;rp关注&#x27;<span class="punctuation">,</span></span><br><span class="line">      <span class="comment">/** 关注回复处理方式  */</span></span><br><span class="line">      actFollowMsg<span class="punctuation">:</span> &#x27;read&#x27;<span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 总参与次数，达到后不管结果如何，直接结束</span></span><br><span class="line">      totalNum<span class="punctuation">:</span> <span class="number">-1</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 连续超过多少次没有中，直接结束，小于1为不限制</span></span><br><span class="line">      noWinNum<span class="punctuation">:</span> <span class="number">10</span><span class="punctuation">,</span> <span class="comment">// 避免一直运行</span></span><br><span class="line">      <span class="comment">// 连续疑似触发风控多少次，直接结束，小于1为不限制</span></span><br><span class="line">      riskNum<span class="punctuation">:</span> <span class="number">5</span><span class="punctuation">,</span> <span class="comment">// 避免一直运行</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// 自动取消关注</span></span><br><span class="line">    unFollow<span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="comment">// 单个取消的时间间隔（秒）</span></span><br><span class="line">      delay<span class="punctuation">:</span> <span class="number">3</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 中场休息，[取消数量, 休息时间（分）] 取消数量和休息时间都应该为正数（非0），否则无效</span></span><br><span class="line">      restTime<span class="punctuation">:</span> <span class="punctuation">[</span><span class="number">20</span><span class="punctuation">,</span> <span class="number">-1</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 总数 -1 无限制</span></span><br><span class="line">      totalNum<span class="punctuation">:</span> <span class="number">-1</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 取消关注的 tag</span></span><br><span class="line">      tags<span class="punctuation">:</span> <span class="punctuation">[</span>&#x27;天选时刻&#x27;<span class="punctuation">,</span> &#x27;rp关注&#x27;<span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// 消息推送</span></span><br><span class="line">    message<span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="comment">// 换行</span></span><br><span class="line">      br<span class="punctuation">:</span> &#x27;\n&#x27;<span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 青龙面板专属配置 企业微信通知示例如下：</span></span><br><span class="line">      <span class="comment">// 官方说明文档： </span></span><br><span class="line">      <span class="comment">// https://work.weixin.qq.com/api/doc/90000/90136/91770</span></span><br><span class="line">      <span class="comment">// 下方填写密钥，企业微信推送 webhook 后面的 key</span></span><br><span class="line">      &#x27;QYWX_KEY&#x27;<span class="punctuation">:</span> <span class="string">&quot;此处填写你的key&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// 投币相关</span></span><br><span class="line">    coin<span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="comment">// 目标等级</span></span><br><span class="line">      targetLevel<span class="punctuation">:</span> <span class="number">6</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 保留的硬币数</span></span><br><span class="line">      stayCoins<span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 投币的数量（上限5）</span></span><br><span class="line">      targetCoins<span class="punctuation">:</span> <span class="number">5</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 自定义 up</span></span><br><span class="line">      customizeUp<span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 当获取已投币数量失败，假设已投币数量</span></span><br><span class="line">      todayCoins<span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 是否只投指定 up</span></span><br><span class="line">      upperAccMatch<span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// 使用b币券</span></span><br><span class="line">    couponBalance<span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="comment">/** 充电的 up 默认自己 */</span></span><br><span class="line">      mid<span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">/** 预设时间，哪一天？，空数组为每一天 */</span></span><br><span class="line">      presetTime<span class="punctuation">:</span> <span class="punctuation">[</span><span class="number">10</span><span class="punctuation">,</span> <span class="number">20</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">/** 使用的方式，可以是 充电/charge 电池/battery */</span></span><br><span class="line">      use<span class="punctuation">:</span> &#x27;充电&#x27;<span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// 直播间礼物</span></span><br><span class="line">    gift<span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="comment">// 自定义投喂礼物 UP， 在所填中随机选取</span></span><br><span class="line">      mids<span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 省略部分配置</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// 亲密度</span></span><br><span class="line">    intimacy<span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="comment">// 直播弹幕</span></span><br><span class="line">      liveSendMessage<span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 点赞直播间</span></span><br><span class="line">      liveLike<span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 每日亲密度上限 （系统 1500）</span></span><br><span class="line">      limitFeed<span class="punctuation">:</span> <span class="number">1500</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 耗时很长的直播心跳（默认关闭）</span></span><br><span class="line">      liveHeart<span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 白名单</span></span><br><span class="line">      whiteList<span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 黑名单</span></span><br><span class="line">      blackList<span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// 漫画</span></span><br><span class="line">    manga<span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="comment">// 签到</span></span><br><span class="line">      sign<span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 购买漫画</span></span><br><span class="line">      buy<span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 购买漫画 id（优先级高）</span></span><br><span class="line">      mc<span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 购买漫画名称（优先级中）</span></span><br><span class="line">      name<span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 购买追漫（优先级低）</span></span><br><span class="line">      love<span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 执行购买漫画间隔时间（单位天）</span></span><br><span class="line">      buyInterval<span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 星期几执行购买漫画</span></span><br><span class="line">      buyWeek<span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// 风纪委员</span></span><br><span class="line">    jury<span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="comment">// 模式</span></span><br><span class="line">      mode<span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 默认投票 0-3 好-无法判断，从中随机</span></span><br><span class="line">      vote<span class="punctuation">:</span> <span class="punctuation">[</span><span class="number">0</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">1</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 没有案件不退出，运行一次直到完成</span></span><br><span class="line">      once<span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 参考人数最少满足</span></span><br><span class="line">      opinionMin<span class="punctuation">:</span> <span class="number">3</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 没有案件后等待时间（分）</span></span><br><span class="line">      waitTime<span class="punctuation">:</span> <span class="number">20</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// 大积分</span></span><br><span class="line">    bigPoint<span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="comment">// 是否间隔 5s 再重试一次，或者直接填写等待时间（秒）</span></span><br><span class="line">      isRetry<span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 是否完成观看视频的任务</span></span><br><span class="line">      isWatch<span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 正片视频的 epid（集数id）</span></span><br><span class="line">      epids<span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 领取任务后的观看延时（秒）</span></span><br><span class="line">      watchDelay<span class="punctuation">:</span> <span class="number">40</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">]</span></span><br></pre></td></tr></table></figure></div><blockquote><p>如果使用上面的配置，需要修改四个地方：</p><ol><li><p>user agent <em>必填</em>，点击<a target="_blank" rel="noopener" href="http://service.spiritsoft.cn/ua.html">这个网站</a>把红字部分填入引号中。</p></li><li><p>cookie <em>必填</em>，教程在上面。</p></li><li><p>是否投币请按需自行修改。（一般来说Lv6就不需要了）</p><div class="highlight-wrap" data-rel="Json"><figure class="iseeu highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">coin<span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="comment">// 目标等级</span></span><br><span class="line">      targetLevel<span class="punctuation">:</span> <span class="number">6</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 保留的硬币数</span></span><br><span class="line">      stayCoins<span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 投币的数量（上限5）</span></span><br><span class="line">      targetCoins<span class="punctuation">:</span> <span class="number">5</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 自定义 up</span></span><br><span class="line">      customizeUp<span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 当获取已投币数量失败，假设已投币数量</span></span><br><span class="line">      todayCoins<span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 是否只投指定 up</span></span><br><span class="line">      upperAccMatch<span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></div></li><li><p>通知配置 <em>建议填写</em>。</p><div class="highlight-wrap" data-rel="Json"><figure class="iseeu highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">message<span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="comment">// 换行</span></span><br><span class="line">      br<span class="punctuation">:</span> &#x27;\n&#x27;<span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 这里建议直接使用你青龙面板的通知方式 以企业微信举例</span></span><br><span class="line">      <span class="comment">// 下方填写密钥 企业微信推送 webhook 后面的 key</span></span><br><span class="line">      &#x27;QYWX_KEY&#x27;<span class="punctuation">:</span> <span class="string">&quot;此处填写你的key&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 还可以使用以下方式</span></span><br><span class="line">      <span class="comment">// &#x27;GOBOT_URL&#x27;,</span></span><br><span class="line">      <span class="comment">// &#x27;GOBOT_TOKEN&#x27;,</span></span><br><span class="line">      <span class="comment">// &#x27;GOBOT_QQ&#x27;,</span></span><br><span class="line">      <span class="comment">// &#x27;SCKEY&#x27;,</span></span><br><span class="line">      <span class="comment">// &#x27;QQ_SKEY&#x27;</span></span><br><span class="line">      <span class="comment">//  。。。。。。</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></div></li></ol></blockquote><h3 id="添加环境变量"><a href="#添加环境变量" class="headerlink" title="添加环境变量"></a>添加环境变量</h3><ul><li><p>配置使用的 <code>json5</code>，兼容 <code>json</code> 且更加灵活，可以支持 <code>注释</code>。</p></li><li><p>务必使用 <a target="_blank" rel="noopener" href="https://verytoolz.com/json5-validator.html">在线工具</a> 校验 json5 格式（校验不通过无法继续使用）。</p></li><li><p>将检验合格的配置文本 粘贴在<a target="_blank" rel="noopener" href="https://www.baidufe.com/fehelper/en-decode/">Gzip 在线压缩工具</a> 的输入框中，选择Gzip压缩，将加密结果复制即可。</p><p><a data-fancybox="gallery" data-src="bilibili-qinglong/image-20220907133801593.webp" data-caption="Gzip压缩配置文本"><picture><source srcset="bilibili-qinglong/image-20220907133801593.webp" type="image/webp"><img src="bilibili-qinglong/image-20220907133801593.png" alt="Gzip压缩配置文本"></picture></a></p></li><li><p>青龙面板推荐使用 <strong>环境变量</strong> 的方式配置。</p><p>在 <strong>青龙面板-&gt;环境变量-&gt;新建变量</strong> ，名称（<strong>BILITOOLS_CONFIG</strong>）、值（填写你在上一步Gzip压缩得到的文本），点击确定即可。</p><p><a data-fancybox="gallery" data-src="bilibili-qinglong/image-20220907133920012.webp" data-caption="添加变量"><picture><source srcset="bilibili-qinglong/image-20220907133920012.webp" type="image/webp"><img src="bilibili-qinglong/image-20220907133920012.png" alt="添加变量"></picture></a></p></li></ul><h2 id="手动运行"><a href="#手动运行" class="headerlink" title="手动运行"></a>手动运行</h2><p>回到青龙面板任务首页，应该会出现三个关于哔哩哔哩的任务：</p><p><a data-fancybox="gallery" data-src="bilibili-qinglong/image-20220907134421036.webp" data-caption="bilibili任务"><picture><source srcset="bilibili-qinglong/image-20220907134421036.webp" type="image/webp"><img src="bilibili-qinglong/image-20220907134421036.png" alt="bilibili任务"></picture></a></p><p>名称是可以自行修改的，主要看命令：</p><ul><li>第一个：更新依赖；</li><li>第三个：拉库任务；</li><li>第二个：<strong>主程序任务</strong>，在手动运行拉库任务后刷新可见。</li></ul><p>在一切准备就绪后，就可以手动运行一次主任务了。</p><h2 id="感谢"><a href="#感谢" class="headerlink" title="感谢"></a>感谢</h2><p><a target="_blank" rel="noopener" href="https://btdocs.vercel.app/">BiliTools</a></p><div id="copyright"><style>#easter-egg{border:0;padding:10px 0;position:relative}#easter-egg::before{font-family:"Font Awesome 5 Free";font-weight:900;content:"本文结束 \f1b0  感谢阅读";position:absolute;padding:0 10px;line-height:1px;white-space:nowrap;left:50%;transform:translateX(-50%)}</style><hr id="easter-egg"><blockquote style="padding:0"><p>作者：Yuesir</p><p>本文链接：<a href="/article/bilibili-qinglong.html" target="_blank" title="青龙面板篇之哔哩哔哩挂机">https://vccv.cc/article/bilibili-qinglong.html</a></p><p>版权声明：本博客所有文章除特别声明外,均采用 <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">CC BY-NC-ND 4.0</a> 许可协议，转载请注明出处！</p></blockquote><hr></div></div></article><div class="blog-post-comments"><div id="tcomment"><noscript>加载评论需要在浏览器启用 JavaScript 脚本支持</noscript></div></div><div id="footer-post-container"><div id="footer-post"><div id="nav-footer" style="display:none"><ul><li><a href="/">首页</a></li><li><a href="/tags">标签</a></li><li><a href="/search">搜索</a></li><li><a href="/tools">工具</a></li><li><a href="/about">关于</a></li></ul></div><div id="toc-footer" style="display:none"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#2023-10-1-%E6%9B%B4%E6%96%B0"><span class="toc-number">1.</span> <span class="toc-text">2023.10.1 更新</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">2.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%86%E5%A4%87"><span class="toc-number">3.</span> <span class="toc-text">准备</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%99%E7%A8%8B"><span class="toc-number">4.</span> <span class="toc-text">教程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96"><span class="toc-number">4.1.</span> <span class="toc-text">安装依赖</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8B%89%E5%8F%96%E8%84%9A%E6%9C%AC"><span class="toc-number">4.2.</span> <span class="toc-text">拉取脚本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0npm%E5%8C%85"><span class="toc-number">4.3.</span> <span class="toc-text">更新npm包</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96cookie"><span class="toc-number">5.</span> <span class="toc-text">获取cookie</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#PC%E7%AB%AF%E6%B5%8F%E8%A7%88%E5%99%A8%E9%9A%90%E7%A7%81%E6%A8%A1%E5%BC%8F%EF%BC%88%E6%8E%A8%E8%8D%90%EF%BC%89"><span class="toc-number">5.1.</span> <span class="toc-text">PC端浏览器隐私模式（推荐）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Chrome"><span class="toc-number">5.2.</span> <span class="toc-text">Chrome</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Firefox"><span class="toc-number">5.3.</span> <span class="toc-text">Firefox</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%8B%E6%9C%BA%E7%AB%AF"><span class="toc-number">5.4.</span> <span class="toc-text">手机端</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%EF%BC%88%E9%87%8D%E7%82%B9%EF%BC%89"><span class="toc-number">6.</span> <span class="toc-text">配置文件（重点）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%87%92%E4%BA%BA%E7%89%88%E5%8D%95%E4%BA%BA%E8%87%AA%E7%94%A8%EF%BC%88%E8%AF%B7%E6%8C%89%E9%9C%80%E4%BF%AE%E6%94%B9%EF%BC%89"><span class="toc-number">6.1.</span> <span class="toc-text">懒人版单人自用（请按需修改）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">6.2.</span> <span class="toc-text">添加环境变量</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%8B%E5%8A%A8%E8%BF%90%E8%A1%8C"><span class="toc-number">7.</span> <span class="toc-text">手动运行</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%84%9F%E8%B0%A2"><span class="toc-number">8.</span> <span class="toc-text">感谢</span></a></li></ol></div><div id="actions-footer"><a id="menu" class="icon" onclick='$("#nav-footer").toggle()'><i class="fas fa-bars fa-lg" aria-hidden="true"></i> 菜单</a> <a id="toc" class="icon" onclick='$("#toc-footer").toggle()'><i class="fas fa-list fa-lg" aria-hidden="true"></i> 目录</a> <a id="switch" class="icon" onclick="switchNightMode()"><i class="fas fa-lightbulb fa-lg" aria-hidden="true"></i> 主题</a> <a id="top" style="display:none" class="icon" href="#" onclick='$("html, body").animate({scrollTop:0},"fast")'><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> 顶部</a></div></div></div><footer id="footer"><div class="footer-left">Copyright &copy; 2020-2024 Yuesir <a href="https://github.com/probberechts/hexo-theme-cactus" rel="nofollow" target="_blank">Cactus</a> <a href="/atom.xml" target="_blank">RSS</a></div><div class="footer-right"><nav><ul><li><a href="/">首页</a></li><li><a href="/tags">标签</a></li><li><a href="/search">搜索</a></li><li><a href="/tools">工具</a></li><li><a href="/about">关于</a></li></ul></nav></div></footer></div><link rel="preload" href="/lib/font-awesome/css/all.min.css" as="style" onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"></noscript><script src="/lib/jquery/jquery.min.js"></script><script src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript">$((function(){$(".highlight table").before('<span class="btn-copy tooltipped tooltipped-sw" aria-label="复制到粘贴板"><i class="far fa-clone"></i></span>'),new ClipboardJS(".btn-copy",{text:function(e){return Array.from(e.nextElementSibling.querySelectorAll(".code")).reduce((e,t)=>e+t.innerText+"\n","").replace(/^\s+|\s+$/g,"")}}).on("success",(function(e){e.trigger.setAttribute("aria-label","复制成功!"),e.clearSelection()}))}))</script><script src="/js/main.js"></script><script src="/lib/fancybox/fancybox.umd.js"></script><script src="/lib/twikoo/twikoo.all.min.js"></script><script>twikoo.init({envId:"https://twikoo.vccv.cc",el:"#tcomment",onCommentLoaded:function(){for(var t=document.getElementsByClassName("tk-content"),e=0;e<t.length;e++){var a=t[e].getElementsByTagName("img");if(a.length>0)for(var n=0;n<a.length;n++){var o=a[n];if("tk-owo-emotion"!=o.className){var r=document.createElement("a");r.setAttribute("data-fancybox","gallery"),r.setAttribute("data-src",o.getAttribute("src")),r.setAttribute("data-caption","评论区："+o.getAttribute("alt")),r.appendChild(o.cloneNode(!1)),o.parentNode.insertBefore(r,o.nextSibling),o.remove()}}}}})</script><script src="/lib/april-fool/load.js"></script><script async>window.onload=function(){var a=document.createElement('script'),b=document.getElementsByTagName('script')[0];a.type='text/javascript',a.async=!0,a.src='/sw-register.js?v='+Date.now(),b.parentNode.insertBefore(a,b)};</script></body></html>