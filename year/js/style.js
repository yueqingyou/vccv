!function(e){"use strict";var r={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5},t=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror"],n=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror"],i=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError"],s="undefined"!=typeof window&&void 0!==window.document?window.document:{},o="fullscreenEnabled"in s&&Object.keys(r)||t[0]in s&&t||n[0]in s&&n||i[0]in s&&i||[];e.fscreen={requestFullscreen:function(e){return e[o[r.requestFullscreen]]()},requestFullscreenFunction:function(e){return e[o[r.requestFullscreen]]},get exitFullscreen(){return s[o[r.exitFullscreen]].bind(s)},addEventListener:function(e,t,n){return s.addEventListener(o[r[e]],t,n)},removeEventListener:function(e,t){return s.removeEventListener(o[r[e]],t)},get fullscreenEnabled(){return Boolean(s[o[r.fullscreenEnabled]])},set fullscreenEnabled(e){},get fullscreenElement(){return s[o[r.fullscreenElement]]},set fullscreenElement(e){},get onfullscreenchange(){return s[("on"+o[r.fullscreenchange]).toLowerCase()]},set onfullscreenchange(e){return s[("on"+o[r.fullscreenchange]).toLowerCase()]=e},get onfullscreenerror(){return s[("on"+o[r.fullscreenerror]).toLowerCase()]},set onfullscreenerror(e){return s[("on"+o[r.fullscreenerror]).toLowerCase()]=e}}}(window);const Ticker=function(n){"use strict";const e={addListener:function(e){if("function"!=typeof e)throw"Ticker.addListener() requires a function reference passed for a callback.";i.push(e),t||(t=!0,s())}};let t=!1,r=0,i=[];function s(){(n.requestAnimationFrame?requestAnimationFrame:webkitRequestAnimationFrame)(o)}function o(e){let t=e-r;r=e,t<0?t=17:68<t&&(t=68),i.forEach(e=>e.call(n,t,t/16.6667)),s()}return e}(window),Stage=function(n,r,i){"use strict";let t=0;function s(e){"string"==typeof e&&(e=r.getElementById(e)),this.canvas=e,this.ctx=e.getContext("2d"),this.canvas.style.touchAction="none",this.speed=1,this.dpr=s.disableHighDPI?1:(n.devicePixelRatio||1)/(this.ctx.backingStorePixelRatio||1),this.width=e.width,this.height=e.height,this.naturalWidth=this.width*this.dpr,this.naturalHeight=this.height*this.dpr,this.width!==this.naturalWidth&&(this.canvas.width=this.naturalWidth,this.canvas.height=this.naturalHeight,this.canvas.style.width=this.width+"px",this.canvas.style.height=this.height+"px");const t=r.location.hostname;["blackdiamondfireworks.de"].some(e=>t.includes(e))&&setTimeout(()=>{r.body.innerHTML='<style>\n\t\t\t\t\t\tbody { background-color: #000; padding: 20px; text-align: center; color: #ddd; min-height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; overflow: visible; }\n\t\t\t\t\t\th1 { font-size: 1.2em;}\n\t\t\t\t\t\tp { margin-top: 1em; max-width: 36em; }\n\t\t\t\t\t\ta { color: #fff; text-decoration: underline; }\n\t\t\t\t\t</style>\n\t\t\t\t\t<h1>Hi! Sorry to interrupt the fireworks.</h1>\n\t\t\t\t\t<p>My name is Caleb. Despite what this site claims, I designed and built this software myself. I\'ve spent a couple hundred hours of my own time, over two years, making it.</p>\n\t\t\t\t\t<p>The owner of this site clearly doesn\'t respect my work, and has labeled it as their own.</p>\n\t\t\t\t\t<p>If you were enjoying the show, please check out <a href="https://codepen.io/MillerTime/full/XgpNwb">my&nbsp;official&nbsp;version&nbsp;here</a>!</p>\n\t\t\t\t\t<p>If you\'re the owner, <a href="mailto:calebdotmiller@gmail.com">contact me</a>.</p>'},18e4),s.stages.push(this),this._listeners={resize:[],pointerstart:[],pointermove:[],pointerend:[],lastPointerPos:{x:0,y:0}}}return s.stages=[],s.disableHighDPI=!1,s.prototype.addEventListener=function(e,t){try{"ticker"===e?i.addListener(t):this._listeners[e].push(t)}catch(e){throw"Invalid Event"}},s.prototype.dispatchEvent=function(e,t){const n=this._listeners[e];if(!n)throw"Invalid Event";n.forEach(e=>e.call(this,t))},s.prototype.resize=function(e,t){this.width=e,this.height=t,this.naturalWidth=e*this.dpr,this.naturalHeight=t*this.dpr,this.canvas.width=this.naturalWidth,this.canvas.height=this.naturalHeight,this.canvas.style.width=e+"px",this.canvas.style.height=t+"px",this.dispatchEvent("resize")},s.windowToCanvas=function(e,t,n){var r=e.getBoundingClientRect();return{x:(t-r.left)*(e.width/r.width),y:(n-r.top)*(e.height/r.height)}},s.mouseHandler=function(r){if(!(Date.now()-t<500)){let n="start";"mousemove"===r.type?n="move":"mouseup"===r.type&&(n="end"),s.stages.forEach(e=>{var t=s.windowToCanvas(e.canvas,r.clientX,r.clientY);e.pointerEvent(n,t.x/e.dpr,t.y/e.dpr)})}},s.touchHandler=function(e){t=Date.now();let r="start";"touchmove"===e.type?r="move":"touchend"===e.type&&(r="end"),s.stages.forEach(t=>{for(var n of Array.from(e.changedTouches)){let e;"end"!==r?(e=s.windowToCanvas(t.canvas,n.clientX,n.clientY),t._listeners.lastPointerPos=e,"start"===r&&t.pointerEvent("move",e.x/t.dpr,e.y/t.dpr)):e=t._listeners.lastPointerPos,t.pointerEvent(r,e.x/t.dpr,e.y/t.dpr)}})},s.prototype.pointerEvent=function(e,t,n){const r={type:e,x:t,y:n};r.onCanvas=0<=t&&t<=this.width&&0<=n&&n<=this.height,this.dispatchEvent("pointer"+e,r)},r.addEventListener("mousedown",s.mouseHandler),r.addEventListener("mousemove",s.mouseHandler),r.addEventListener("mouseup",s.mouseHandler),r.addEventListener("touchstart",s.touchHandler),r.addEventListener("touchmove",s.touchHandler),r.addEventListener("touchend",s.touchHandler),s}(window,document,Ticker),MyMath=function(i){const s={};return s.toDeg=180/i.PI,s.toRad=i.PI/180,s.halfPI=i.PI/2,s.twoPI=2*i.PI,s.dist=(e,t)=>i.sqrt(e*e+t*t),s.pointDist=(e,t,n,r)=>{n-=e,e=r-t;return i.sqrt(n*n+e*e)},s.angle=(e,t)=>s.halfPI+i.atan2(t,e),s.pointAngle=(e,t,n,r)=>s.halfPI+i.atan2(r-t,n-e),s.splitVector=(e,t)=>({x:i.sin(t)*e,y:-i.cos(t)*e}),s.random=(e,t)=>i.random()*(t-e)+e,s.randomInt=(e,t)=>(i.random()*(t-e+1)|0)+e,s.randomChoice=function(e){return 1===arguments.length&&Array.isArray(e)?e[i.random()*e.length|0]:arguments[i.random()*arguments.length|0]},s.clamp=function(e,t,n){return i.min(i.max(e,t),n)},s}(Math);